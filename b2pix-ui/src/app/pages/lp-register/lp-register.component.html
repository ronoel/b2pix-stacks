<div class="lp-register-page">
  <div class="container">
    <!-- Header -->
    <div class="page-header">
      <button class="btn btn-ghost" (click)="goBack()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        Voltar
      </button>
      <div class="header-content">
        <h1 class="page-title">Cadastrar como LP</h1>
        <p class="page-subtitle">Configure suas credenciais bancarias para se tornar um Liquidity Provider</p>
      </div>
    </div>

    <!-- Intro View -->
    @if (!showBankSetup() && !setupCompleted()) {
      <div class="view-container">
        <div class="info-card">
          <div class="info-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
              <path d="M12 2V22" stroke="currentColor" stroke-width="2"/>
              <path d="M17 5H9.5C8.11929 5 7 6.11929 7 7.5V7.5C7 8.88071 8.11929 10 9.5 10H14.5C15.8807 10 17 11.1193 17 12.5V12.5C17 13.8807 15.8807 15 14.5 15H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <h2>O que e um Liquidity Provider?</h2>
          <p>Como LP, voce sera responsavel por pagar os PIX solicitados pelos usuarios da plataforma. Em troca, voce recebe creditos em BRL pelo valor pago.</p>
        </div>

        <div class="requirements-card">
          <h3>O que voce vai precisar</h3>
          <div class="requirements-list">
            <div class="requirement-item">
              <div class="requirement-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <rect x="2" y="3" width="20" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <line x1="2" y1="9" x2="22" y2="9" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div>
                <strong>Conta no Banco EFI</strong>
                <p>Uma conta ativa no Banco EFI (antigo Gerencianet)</p>
              </div>
            </div>
            <div class="requirement-item">
              <div class="requirement-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path d="M13 2L3 14H12L11 22L21 10H12L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
              </div>
              <div>
                <strong>Credenciais da API PIX</strong>
                <p>Client ID e Client Secret gerados no painel do Banco EFI</p>
              </div>
            </div>
            <div class="requirement-item">
              <div class="requirement-icon">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <rect x="3" y="11" width="18" height="11" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                  <path d="M7 11V7C7 5.67392 7.52678 4.40215 8.46447 3.46447C9.40215 2.52678 10.6739 2 12 2C13.3261 2 14.5979 2.52678 15.5355 3.46447C16.4732 4.40215 17 5.67392 17 7V11" stroke="currentColor" stroke-width="2"/>
                </svg>
              </div>
              <div>
                <strong>Certificado Digital (.p12)</strong>
                <p>Certificado de producao gerado no painel do Banco EFI</p>
              </div>
            </div>
          </div>
        </div>

        <div class="action-section">
          <button class="btn btn-primary btn-lg" (click)="startSetup()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M16 4H18C18.5304 4 19.0391 4.21071 19.4142 4.58579C19.7893 4.96086 20 5.46957 20 6V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V6C4 5.46957 4.21071 4.96086 4.58579 4.58579C4.96086 4.21071 5.46957 4 6 4H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <rect x="8" y="2" width="8" height="4" rx="1" ry="1" stroke="currentColor" stroke-width="2"/>
            </svg>
            Iniciar Configuracao
          </button>
        </div>
      </div>
    }

    <!-- Bank Setup Wizard -->
    @if (showBankSetup()) {
      <div class="view-container">
        <app-bank-setup
          (setupSuccess)="onSetupSuccess()"
          (setupComplete)="onSetupComplete()"
          (setupCancelled)="onSetupCancelled()">
        </app-bank-setup>
      </div>
    }

    <!-- Success View -->
    @if (setupCompleted()) {
      <div class="view-container">
        <div class="success-card">
          <div class="success-icon">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
              <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
            </svg>
          </div>
          <h2>Cadastro Concluido!</h2>
          <p>Suas credenciais bancarias foram configuradas com sucesso. Voce agora pode acessar o Painel LP e comecar a processar pagamentos PIX.</p>
          <button class="btn btn-primary btn-lg" (click)="goToDashboard()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Voltar ao Dashboard
          </button>
        </div>
      </div>
    }
  </div>
</div>
